(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{6311:(e,s,t)=>{"use strict";t.d(s,{N:()=>i});var r=t(7013);class i{async loadSprites(){for(let e of i.SPRITE_FILES)try{let s=new Image;s.src=(0,r.O)(e),await new Promise((t,r)=>{s.onload=()=>t(),s.onerror=()=>{let s=Error("Failed to load sprite: ".concat(e));console.error(s.message),r(s)}}),this.spriteImages.set(e,s),this.processSprite(e,s)}catch(s){console.error("Failed to load sprite: ".concat(e),s)}}processSprite(e,s){let t=Math.floor(s.width/i.TILE_SIZE),r=Math.floor(s.height/i.TILE_SIZE);for(let a=0;a<r;a++)for(let r=0;r<t;r++){let t="".concat(e,"#").concat(r,",").concat(a),n={image:s,x:r*i.TILE_SIZE,y:a*i.TILE_SIZE,width:i.TILE_SIZE,height:i.TILE_SIZE};this.sprites.set(t,{id:t,path:e,frames:[n],category:this.getCategoryFromPath(e),tags:this.getTagsFromPath(e)})}}getCategoryFromPath(e){var s;let t=e.split("/");if(t.length<3)return"Unknown";let r=null!=(s=t[1])?s:"";return r.charAt(0).toUpperCase()+r.slice(1)}getTagsFromPath(e){let s=e.split("/"),t=[];if(s[1]&&t.push(s[1].toLowerCase()),s[2]){var r;let e=null!=(r=s[2].split(".")[0])?r:"";e&&t.push(e.toLowerCase())}return t}getSprite(e){return this.sprites.get(e)}getAllSprites(){return Array.from(this.sprites.values())}getSpritesByCategory(e){return this.getAllSprites().filter(s=>s.category===e)}getSpritesByTag(e){return this.getAllSprites().filter(s=>{var t;return null==(t=s.tags)?void 0:t.includes(e)})}renderSprite(e,s,t,r){let i=this.getSprite(s);if(!(null==i?void 0:i.frames[0]))return;let a=i.frames[0];e.drawImage(a.image,a.x,a.y,a.width,a.height,t,r,a.width,a.height)}constructor(){this.sprites=new Map,this.spriteImages=new Map,this.loadSprites()}}i.TILE_SIZE=16,i.SPRITE_FILES=["/sprites/Objects/SwordShort.png","/sprites/Objects/Spear.png","/sprites/Objects/ShortBig.png","/sprites/Objects/FireballProjectile.png","/sprites/Objects/Bullet.png","/sprites/Objects/BallistaBolt.png","/sprites/Objects/Axe.png","/sprites/Objects/ArrowShort.png","/sprites/Objects/ArrowLong.png","/sprites/Animals/Sheep.png","/sprites/Animals/Pig.png","/sprites/Animals/MarineAnimals.png","/sprites/Animals/Horse(32x32).png","/sprites/Animals/HornedSheep.png","/sprites/Animals/Chicken.png","/sprites/Animals/Chick.png","/sprites/Animals/Boar.png","/sprites/Buildings/Wood/Market.png","/sprites/Buildings/Wood/Resources.png","/sprites/Miscellaneous/Well.png","/sprites/Ground/TexturedGrass.png","/sprites/Ground/Shore.png","/sprites/Ground/Grass.png","/sprites/Ground/Cliff.png","/sprites/Ground/Winter.png","/sprites/Miscellaneous/Boat.png","/sprites/Miscellaneous/Chests.png","/sprites/Miscellaneous/Tombstones.png","/sprites/Miscellaneous/StreetSigns.png","/sprites/Miscellaneous/Signs.png","/sprites/Miscellaneous/QuestBoard.png","/sprites/Miscellaneous/Portal.png","/sprites/Miscellaneous/PirateShip.png","/sprites/Miscellaneous/Bridge.png","/sprites/Nature/Cactus.png","/sprites/Nature/Rocks.png","/sprites/Nature/Wheatfield.png","/sprites/Nature/WinterTrees.png","/sprites/Nature/Tumbleweed.png","/sprites/Nature/Trees.png","/sprites/Nature/PineTrees.png","/sprites/Characters/Soldiers/Melee/AxemanTemplate.png","/sprites/Characters/Soldiers/Melee/SwordsmanTemplate.png","/sprites/Characters/Soldiers/Melee/SpearmanTemplate.png","/sprites/Characters/Workers/FarmerTemplate.png","/sprites/Characters/Monsters/Orcs/ArcherGoblin.png","/sprites/Characters/Monsters/Orcs/ClubGoblin.png","/sprites/Characters/Monsters/Orcs/FarmerGoblin.png","/sprites/Characters/Monsters/Orcs/Orc.png","/sprites/Characters/Monsters/Orcs/OrcShaman.png","/sprites/Characters/Monsters/Orcs/SpearGoblin.png","/sprites/Characters/Monsters/Slimes/MegaSlimeBlue.png","/sprites/Characters/Monsters/Slimes/Slime.png"]},7013:(e,s,t)=>{"use strict";function r(e){let s=e.startsWith("/")?e.slice(1):e;return"".concat("/world-sim","/").concat(s)}t.d(s,{O:()=>r})},7785:(e,s,t)=>{Promise.resolve().then(t.bind(t,9405))},9405:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(6384),i=t(6636),a=t(6311);function n(){let[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)(""),[l,p]=(0,i.useState)({});(0,i.useEffect)(()=>{let e=new a.N,t=setInterval(()=>{let r=e.getAllSprites();r.length>0&&(s(r),clearInterval(t))},100);return()=>clearInterval(t)},[]);let o=(e,s)=>{let t=e.getContext("2d");if(!t||!s.frames[0])return;let r=s.frames[0];t.drawImage(r.image,r.x,r.y,r.width,r.height,0,0,16,16)},c=e.filter(e=>e.id.toLowerCase().includes(t.toLowerCase())),g={};for(let e of c){let s=function(e){let s=/^\/sprites\/([^\/]+)/.exec(e.id);return s?s[1]:"Other"}(e);if("string"==typeof s&&s){var h;(null!=(h=g[s])?h:g[s]=[]).push(e)}}let d=Object.keys(g).sort(),u=e=>{p(s=>({...s,[e]:!s[e]}))};return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Sprite Viewer"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by path...",value:t,onChange:e=>n(e.target.value),className:"border p-2 rounded mb-4 w-full"}),d.map(e=>{var s;return(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("button",{className:"text-lg font-semibold mb-2 flex items-center",onClick:()=>u(e),children:[(0,r.jsx)("span",{className:"mr-2",children:l[e]?"▼":"▶"}),e]}),l[e]&&(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:null==(s=g[e])?void 0:s.map(e=>(0,r.jsxs)("div",{className:"border rounded p-2 hover:shadow-lg transition-shadow",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("canvas",{width:16,height:16,className:"w-16 h-16 border mx-auto",ref:s=>{s&&o(s,e)}})}),(0,r.jsxs)("div",{className:"mt-2 text-center",children:[(0,r.jsx)("div",{className:"text-sm font-mono break-all",children:e.id}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.category})]})]},e.id))})]},e)}),0===c.length&&(0,r.jsx)("div",{className:"text-center text-gray-500 mt-8",children:"No sprites found."})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[309,951,358],()=>s(7785)),_N_E=e.O()}]);